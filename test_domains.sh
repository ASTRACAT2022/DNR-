#!/bin/bash

DOMAINS=(
    "gmail.com"
    "yahoo.com"
    "hotmail.com"
    "aol.com"
    "outlook.com"
    "comcast.net"
    "icloud.com"
    "msn.com"
    "google.com"
    "facebook.com"
    "sbcglobal.net"
    "verizon.net"
    "live.com"
    "cox.net"
    "yandex.ru"
    "bellsouth.net"
    "qq.com"
    "me.com"
    "yahoo.co.uk"
    "att.net"
    "protonmail.com"
    "gmx.com"
    "mail.com"
    "mac.com"
    "rambler.ru"
    "rediffmail.com"
    "yahoo.ca"
    "charter.net"
    "shaw.ca"
    "earthlink.net"
    "mail.ru"
    "rocketmail.com"
    "optonline.net"
    "juno.com"
    "rogers.com"
    "ymail.com"
    "pacbell.net"
    "roadrunner.com"
    "btinternet.com"
    "t-online.de"
    "orange.fr"
    "libero.it"
    "wanadoo.fr"
    "web.de"
    "nate.com"
    "naver.com"
    "hanmail.net"
    "daum.net"
    "se-com"
    "163.com"
    "126.com"
    "sina.com"
    "sohu.com"
    "tom.com"
    "21cn.com"
    "139.com"
    "wo.com.cn"
    "189.cn"
    "aliyun.com"
    "foxmail.com"
    "vip.163.com"
    "vip.sina.com"
    "vip.qq.com"
    "hotmail.co.uk"
    "yahoo.co.in"
    "yahoo.fr"
    "yahoo.de"
    "yahoo.it"
    "yahoo.es"
    "yahoo.com.ar"
    "yahoo.com.au"
    "yahoo.com.br"
    "yahoo.com.mx"
    "yahoo.com.sg"
    "yahoo.com.tw"
    "yahoo.com.hk"
    "yahoo.co.jp"
    "yahoo.co.kr"
    "yahoo.co.id"
    "yahoo.co.th"
    "yahoo.co.za"
    "hotmail.fr"
    "hotmail.de"
    "hotmail.it"
    "hotmail.es"
    "live.co.uk"
    "live.ca"
    "live.fr"
    "live.de"
    "live.it"
    "live.es"
    "live.com.au"
    "live.com.ar"
    "live.com.mx"
    "outlook.co.uk"
    "outlook.fr"
    "outlook.de"
    "outlook.it"
    "outlook.es"
)

for domain in "${DOMAINS[@]}"; do
    echo "Testing $domain..."
    dig @127.0.0.1 "$domain" +noall +answer
    if [ $? -ne 0 ]; then
        echo "Error querying $domain"
    fi
done